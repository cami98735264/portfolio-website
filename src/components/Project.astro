---
/* asign type number to projectId from astro.props */
const { projectId } = Astro.props as { projectId: number };
import { Image } from "astro:assets";
import Node from "../icons/Node.astro";
import Typescript from "../icons/Typescript.astro";
import React from "../icons/React.astro";
import MySQL from "../icons/MySQL.astro";
import Github from "../icons/Github.astro";
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import {projectsRoutes}  from "../utils/projectsScreenshots.ts";
const projectsScreenshots: any = projectsRoutes;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const projectsList: any = t("projectsList");
---

<div class="project__container">
  <div class="project">
    <div class="project__description__container">
      <div class="project__header">
        <div class="project__technologies">
          <span class="project__technology">
            <Node />
          </span>
          <span class="project__technology">
            <Typescript />
          </span>
          <span class="project__technology">
            <React />
          </span>
          <span class="project__technology">
            <MySQL />
          </span>
        </div>
        <h2 class="project__title">{projectsList[projectId].title}</h2>

        <div class="project__subtitle">
          {projectsList[projectId].projectType}
        </div>
      </div>
      <div class="project__description">
        <span>
          {projectsList[projectId].description}
        </span>
      </div>
      <div class="project__links">
        <a class="source__code"
          ><span class="links__text source__code__text">Source code</span><span
            class="links__icons source__code__icon"><Github /></span
          ></a
        >
        <a class="live__preview"
          ><span class="links__text live__preview__text">Live preview</span
          ><span class="links__icons live__preview__icon"><Github /></span></a
        >
      </div>
      <div class="project__timestamp">
        <span> {projectsList[projectId].date}</span>
      </div>
    </div>
    <div class="project__pictures__container">
      <div class="project__pictures__container"><Image {...{
        src: "https://placehold.co/1280x720/png",
        alt: "Project screenshot",
        width: 1280,
        height: 720,
        loading: "eager"
    }}/></div>
</div>
  </div>
</div>

<style>
  .project__container {
    padding: 60px;
    display: flex;
    height: calc(100dvh - 100px);
    max-width: 2118px;
    max-height: 800px;
    justify-content: center;
    align-items: center;
  }
  .splide__slide img {
  width: 100%;
  height: 100%;
}
  .project__timestamp {
    color: #6b6b6b;
    border-radius: 15px;
    display: flex;
    justify-content: flex-end;
  }
  .project__header {
    gap: 20px;
    display: flex;
    flex-direction: column;
  }
  .project__timestamp span {
    background-color: #1d1d1d;
    padding: 15px 20px;
    border-radius: 15px;
    font-size: clamp(0.8rem, 2vw, 1.2rem);
  }
  .project {
    gap: 36px;
    padding: 20px;
    height: 100%;
    flex: 1 1 0;
    display: flex;
    flex-wrap: wrap;
  }
  .project__description__container {
    padding: 10px;
    display: flex;
    flex: 1 1 700px;
    flex-direction: column;
    justify-content: space-between;
    gap: 20px;
  }
  .links__icons * {
    width: 40px;
    height: 40px;
  }
  .project__pictures__container {
    flex: 1 1 700px;
    display: flex;
    height: 100%;
    justify-content: center;
    align-items: center;
  }
  .project__pictures__container img {
    height: 100%;
    width: 100%;
    object-fit: cover;
    border-radius: 40px;
  }
  .project__subtitle {
    color: var(--subtitles);
    font-size: clamp(0.8rem, 2vw, 1.4rem);
  }
  .project__title {
    font-size: clamp(1.5rem, 2vw, 2.5rem);
    color: var(--titles);
    font-weight: 400;
  }
  .project__description span {
    height: 100%;
    color: var(--description);
    font-size: clamp(0.8rem, 2vw, 1.4rem);
  }
  .project__description {
    max-height: 100%;
    /* make overflow work */
    overflow: auto;
    display: -webkit-box;
    -webkit-line-clamp: 5;
    -webkit-box-orient: vertical;
  }
  /* stilyze scrollbar following the website style */
  .project__description::-webkit-scrollbar {
    width: 10px;
  }
  .project__description::-webkit-scrollbar-thumb {
    background-color: #1d1d1d;
    border-radius: 10px;
  }
  .project__description::-webkit-scrollbar-track {
    background-color: #1d1d1d;
    border-radius: 10px;
  }
  .project__description::-webkit-scrollbar-thumb:hover {
    background-color: #1d1d1d;
  }
  .project__description::-webkit-scrollbar-thumb:active {
    background-color: #1d1d1d;
  }
  .project__description::-webkit-scrollbar-track:hover {
    background-color: #1d1d1d;
  }
  .project__description::-webkit-scrollbar-track:active {
    background-color: #1d1d1d;
  }

  .project__technologies {
    display: flex;
    gap: 10px;
  }
  .project__technology {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 15px;
    background-color: rgb(47, 47, 47);
    border-radius: 10px;
  }
  .project__technology * {
    width: 25px;
    height: 25px;
  }
  .project__links {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    justify-content: flex-start;
  }
  .project__links a {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 20px;
    border-radius: 40px;
    background-color: #000;
    color: var(--description);
    text-decoration: none;
    flex: 1 1 200px;
    justify-content: space-between;
  }
  .project__links span {
    font-size: clamp(0.8rem, 2vw, 1.3rem);
  }
  .links__text {
    padding-left: 15px;
  }

  @media (width < 1590px) {
    .project__container {
      max-height: 100%;
    }
    .project {
      gap: 5px;
      padding: 0;
    }
    .project__pictures__container {
      height: 50%;
    }
    .project__container {
      height: 100%;
      padding: 10px;
    }
    .project__links a {
      padding: 10px;
    }
    .project__links {
      gap: 10px;
    }
    .project__technology {
      padding: 10px;
    }
    .project__technology * {
      width: 15px;
      height: 15px;
    }
    .source__code__icon *,
    .live__preview__icon * {
      width: 30px;
      height: 30px;
    }
    .project__technologies {
      gap: 4px;
    }
  }
</style>

<script>
</script>
